import{system,world,Block,BlockVolume,ItemStack,EquipmentSlot}from"@minecraft/server";export function getScore(t,o){return world.scoreboard.getObjective(o).getScore(t)??0}export function setScore(t,o,r){return world.scoreboard.getObjective(o).setScore(t,r)??0}export function addScore(t,o,r){return world.scoreboard.getObjective(o).addScore(t,r)??0}export function addEffect(t,o,r,a,i){return t.addEffect(o,2*r,{amplifier:a,showParticles:i})??0}export function removeEffect(t,o){return t.removeEffect(o)??0}export function addItem(t,o,r,a,i){const c=t.getComponent("inventory").container,l=new ItemStack(o);l.keepOnDeath=r,l.lockMode=a,l.setLore(i),c.addItem(l)}export function takeOneItem(t){const o=t.getComponent("minecraft:equippable"),r=o.getEquipment(EquipmentSlot.Mainhand);r&&(r.amount>1?(r.amount-=1,o.setEquipment(EquipmentSlot.Mainhand,r)):o.setEquipment(EquipmentSlot.Mainhand,void 0))}export function setItem(t,o,r,a,i,c){const l=o.getComponent("inventory").container,s=new ItemStack(r);s.keepOnDeath=i,s.lockMode=c,s.setLore(a),l.setItem(t,s)}export function addDamage(t,o,r){system.runTimeout(()=>{if(t.typeId!=r.typeId){const a=t.getComponent("health");if(a&&a.currentValue>0&&t&&(Number.isNaN(o)||o>0&&t.applyDamage(Math.floor(o)+1),(Number.isNaN(o)||o<0)&&t.applyDamage(1),r&&r.hasTag("level_melee40")&&a.currentValue>0)){const t=r.getComponent("health"),a=t.currentValue;if(Math.floor(o)<=9&&t.setCurrentValue(a+1),Math.floor(o)>=10){const i=Math.floor(o/5);t.setCurrentValue(a+i),i<5?triggerHealingEvents(1,r):i<9&&triggerHealingEvents(2,r),i>=9&&r.triggerEvent("hfrlc:bodyparts_reset")}}}},10)}function triggerHealingEvents(t,o){const r=["rleg_heal","lleg_heal","larm_heal","rarm_heal"],a=["larm_heal","rarm_heal","rleg_heal","lleg_heal"];for(let i=0;i<t;i++){const t=Math.floor(Math.random()*r.length),i=Math.floor(Math.random()*a.length);o.triggerEvent(`hfrlc:${r[t]}`),o.triggerEvent(`hfrlc:${a[i]}`)}}export function itemCount(t,o){const r=t.getComponent("inventory").container;let a=0;for(let t=0;t<r.size;t++){const i=r.getItem(t);i&&i.typeId===o&&(a+=i.amount)}return a}export function directionToInt(t){return{north:0,east:90,south:180,west:270}[t]??null}export function getVolumeFromLocalCoords(t,o,r,a){let i;if(i=a||t.permutation,!t||void 0===t)return new BlockVolume({x:0,y:0,z:0},{x:0,y:0,z:0});const c={down:0,up:1,north:2,south:3,west:4,east:5};let l;const s=i.getState("facing_direction");if(s)l=s;else{const t=i.getState("minecraft:cardinal_direction");if(!t)return new BlockVolume({x:0,y:0,z:0},{x:0,y:0,z:0});l=c[t]}const u={0:"down",1:"up",2:"north",3:"south",4:"west",5:"east"}[l],m={north:{x:0,z:-1,y:0},south:{x:0,z:1,y:0},east:{x:1,z:0,y:0},west:{x:-1,z:0,y:0},up:{x:0,z:0,y:1},down:{x:0,z:0,y:-1}}[u];function d(o){return"up"===u||"down"===u?{x:t?.location.x+o.x,y:t?.location.y+o.y*m.y,z:t?.location.z+o.z}:{x:t?.location.x+(o.x*m.x-o.z*m.z),y:t?.location.y+o.y,z:t?.location.z+(o.x*m.z+o.z*m.x)}}const p=d(o),h=d(r);return new BlockVolume(p,h)}export function getPositionsInRadius(t,o,r,a){const i=new Set;for(let c=0;c<a;c++){const a=2*Math.random()*Math.PI,c=Math.sqrt(Math.random())*r,l=o.x+c*Math.cos(a),s=o.z+c*Math.sin(a),u={x:l,y:t.getTopmostBlock({x:l,z:s},o.y+1).center().y+.5,z:s};i.add(u)}return i}export function getRandomIntInRange(t,o){return Math.floor(Math.random()*(o-t+1))+t}export const w=world.getDimension("overworld");export const n=world.getDimension("nether");export const e=world.getDimension("the_end");export const allDimensions=[w,n,e];