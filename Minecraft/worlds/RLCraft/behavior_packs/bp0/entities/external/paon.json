{"format_version":"1.17.0","minecraft:entity":{"description":{"identifier":"hfrlc:paon","is_spawnable":true,"is_summonable":true,"is_experimental":false,"properties":{"hfrlc:dead":{"type":"bool","client_sync":true,"default":false},"hfrlc:state":{"type":"enum","client_sync":true,"values":["none","preparing_attack","attacking","fly_attacking"],"default":"none"},"hfrlc:attack_type":{"type":"enum","client_sync":true,"values":["none","peck_attack","fly_attack"],"default":"none"},"hfrlc:is_baby":{"type":"bool","client_sync":true,"default":false},"hfrlc:running_away":{"type":"bool","client_sync":true,"default":false},"hfrlc:player_nearby":{"type":"bool","client_sync":true,"default":false},"hfrlc:has_target":{"type":"bool","client_sync":true,"default":false},"hfrlc:dropped_xp":{"type":"bool","client_sync":true,"default":false},"hfrlc:rotation_locked":{"type":"bool","client_sync":true,"default":false},"hfrlc:rotation":{"type":"float","client_sync":true,"range":[-999.0,999.0],"default":0.01},"hfrlc:fly_failsafe":{"type":"int","range":[0,1000],"default":0}},"animations":{"attack_controller":"controller.animation.paon.attack_controller","tick":"animation.paon.tick","death":"animation.paon.death","death_baby":"animation.paon.death_baby","death_movement":"animation.paon.death_movement"},"scripts":{"animate":["tick",{"attack_controller":"!q.is_baby"},{"death_movement":"q.property('hfrlc:dead')"},{"death":"!q.is_baby && q.property('hfrlc:dead')"},{"death_baby":"q.is_baby && q.property('hfrlc:dead')"}]}},"component_groups":{"hfrlc:despawn":{"minecraft:instant_despawn":{}},"hfrlc:find_target":{"minecraft:target_nearby_sensor":{"inside_range":100,"outside_range":100,"on_inside_range":{"event":"hfrlc:target_detected","target":"self"}}},"hfrlc:spawn_babies":{"minecraft:spawn_entity":{"entities":[{"spawn_entity":"hfrlc:paon","min_wait_time":0,"max_wait_time":0,"num_to_spawn":3,"spawn_event":"hfrlc:baby","single_use":true}]}},"hfrlc:adult":{"minecraft:ambient_sound_interval":{"event_name":"ambient","range":16,"value":12},"minecraft:collision_box":{"width":1.75,"height":5.0},"minecraft:behavior.hurt_by_target":{"priority":3,"alert_same_type":true},"minecraft:behavior.look_at_player":{"angle_of_view_vertical":360,"angle_of_view_horizontal":360,"look_distance":10,"probability":1.0,"look_time":[],"target_distance":12},"minecraft:attack":{"damage":8},"minecraft:health":{"value":100,"min":1}},"hfrlc:baby":{"minecraft:ambient_sound_interval":{"event_name":"ambient.baby","range":16,"value":12},"minecraft:collision_box":{"width":0.8,"height":0.6},"minecraft:angry":{"broadcast_anger":true,"broadcast_range":32,"broadcast_targets":["paon"],"broadcast_anger_on_being_attacked":true,"broadcast_anger_when_dying":false},"minecraft:behavior.look_at_player":{"angle_of_view_vertical":360,"angle_of_view_horizontal":360,"look_distance":10,"probability":1.0,"target_distance":12},"minecraft:is_baby":{},"minecraft:behavior.follow_mob":{"priority":2,"search_range":48,"stop_distance":4,"filters":[{"all_of":[{"test":"is_family","subject":"other","value":"paon"},{"test":"bool_property","subject":"other","domain":"hfrlc:is_baby","value":false}]}]},"minecraft:behavior.panic":{"force":false,"ignore_mob_damage":false,"prefer_water":false,"priority":0,"speed_multiplier":1.0},"minecraft:behavior.avoid_mob_type":{"priority":1,"max_dist":16,"max_flee":32,"walk_speed_multiplier":1,"sprint_speed_multiplier":1,"probability_per_strength":1,"ignore_visibility":false,"remove_target":true,"on_escape_event":{"event":"hfrlc:baby_stop_running","target":"self"},"entity_types":[{"filters":{"all_of":[{"test":"is_family","subject":"other","value":"player"},{"none_of":[{"test":"has_ability","subject":"other","value":"instabuild"}]}]}}]},"minecraft:health":{"value":15,"min":1}},"hfrlc:no_player_nearby":{"minecraft:behavior.random_stroll":{"priority":2,"speed_multiplier":1,"xz_dist":16,"y_dist":3,"interval":120},"minecraft:behavior.random_look_around":{"priority":10}},"hfrlc:player_nearby":{"minecraft:behavior.look_at_player":{"priority":0,"angle_of_view_vertical":360,"angle_of_view_horizontal":360,"look_distance":24,"probability":1.0,"target_distance":24},"minecraft:behavior.look_at_target":{"priority":0,"look_distance":24,"probability":1.0,"angle_of_view_vertical":360,"angle_of_view_horizontal":360}},"hfrlc:movement_off":{"minecraft:movement":{"value":0.0},"minecraft:behavior.look_at_target":{"priority":999,"look_distance":0}},"hfrlc:movement_on_baby":{"minecraft:movement":{"value":0.15},"minecraft:behavior.random_stroll":{"priority":5,"speed_multiplier":1},"minecraft:behavior.look_at_target":{"priority":11,"look_distance":8}},"hfrlc:movement_on_with_target_baby":{"minecraft:movement":{"value":0.3},"minecraft:behavior.random_stroll":{"priority":5,"speed_multiplier":1},"minecraft:behavior.look_at_target":{"priority":11,"look_distance":8}},"hfrlc:movement_on":{"minecraft:movement":{"value":0.25}},"hfrlc:movement_on_with_target":{"minecraft:movement":{"value":0.35}},"hfrlc:invulnerable":{"minecraft:damage_sensor":{"triggers":[{"cause":"all","deals_damage":false}]}},"hfrlc:vulnerable":{"minecraft:damage_sensor":{"triggers":[{"cause":"all","deals_damage":true}]}},"hfrlc:peck_attack":{"minecraft:behavior.delayed_attack":{"attack_duration":1.0,"attack_once":false,"hit_delay_pct":0.5,"random_stop_interval":0,"reach_multiplier":2.0,"require_complete_path":true,"track_target":true},"minecraft:timer":{"time":[1,3],"looping":true,"time_down_event":{"event":"hfrlc:prepare_attack","target":"self","filters":[{"test":"enum_property","domain":"hfrlc:state","value":"none"},{"test":"target_distance","operator":"<=","value":5}]}}},"hfrlc:fly_attack":{"minecraft:behavior.delayed_attack":{"attack_duration":999999,"attack_once":true,"hit_delay_pct":1,"random_stop_interval":0,"reach_multiplier":0,"require_complete_path":true,"track_target":false},"minecraft:timer":{"time":2,"looping":true,"time_down_event":{"event":"hfrlc:prepare_attack","target":"self","filters":[{"test":"enum_property","domain":"hfrlc:state","value":"none"},{"test":"target_distance","operator":"<=","value":5}]}}},"hfrlc:death":{"minecraft:ambient_sound_interval":{"event_name":"death","range":16,"value":999999},"minecraft:collision_box":{"width":0.0,"height":0.0},"minecraft:behavior.look_at_target":{"priority":999,"look_distance":0},"minecraft:movement":{"value":0.0,"max":0.0},"minecraft:health":{"value":999,"min":0},"minecraft:behavior.random_stroll":{"priority":999,"speed_multiplier":0}}},"components":{"minecraft:persistent":{},"minecraft:type_family":{"family":["paon","mob","ram"]},"minecraft:environment_sensor":{"triggers":[{"event":"hfrlc:death","target":"self","filters":{"all_of":[{"test":"actor_health","value":1},{"test":"bool_property","domain":"hfrlc:dead","value":false}]}},{"event":"hfrlc:has_target","target":"self","filters":{"all_of":[{"test":"bool_property","domain":"hfrlc:has_target","value":false},{"test":"has_target","value":true},{"test":"bool_property","domain":"hfrlc:dead","value":false}]}},{"event":"hfrlc:no_target","target":"self","filters":{"all_of":[{"test":"bool_property","domain":"hfrlc:has_target","value":true},{"test":"has_target","value":false},{"test":"bool_property","domain":"hfrlc:dead","value":false}]}},{"event":"hfrlc:baby_start_running","target":"self","filters":{"all_of":[{"all_of":[{"test":"distance_to_nearest_player","operator":"<=","value":16},{"none_of":[{"test":"has_ability","subject":"other","value":"instabuild"}]}]},{"test":"bool_property","domain":"hfrlc:is_baby","value":true}]}}]},"minecraft:nameable":{},"minecraft:is_hidden_when_invisible":{},"minecraft:breathable":{"total_supply":15,"suffocate_time":-1,"inhale_time":3.75,"generates_bubbles":false},"minecraft:despawn":{"despawn_from_distance":{"min_distance":32,"max_distance":40}},"minecraft:jump.static":{},"minecraft:movement.basic":{},"minecraft:movement":{"value":0.25},"minecraft:navigation.walk":{"can_walk_in_lava":false,"can_path_over_lava":false,"can_jump":true,"can_walk":true,"can_path_from_air":false,"avoid_portals":true,"avoid_sun":false,"can_break_doors":false,"can_open_doors":false,"can_open_iron_doors":false,"can_pass_doors":true,"avoid_water":true,"can_sink":true,"can_swim":false,"can_breach":false,"is_amphibious":false,"can_path_over_water":true,"avoid_damage_blocks":true,"blocks_to_avoid":[{"name":"minecraft:powder_snow"}]},"minecraft:hurt_on_condition":{"damage_conditions":[{"filters":{"test":"in_lava","subject":"self","operator":"==","value":true},"cause":"lava","damage_per_tick":4}]},"minecraft:physics":{},"minecraft:conditional_bandwidth_optimization":{},"minecraft:pushable":{"is_pushable":true,"is_pushable_by_piston":true},"minecraft:behavior.float":{"priority":0},"minecraft:behavior.look_at_target":{"priority":4,"look_distance":8},"minecraft:behavior.random_look_around":{"priority":12},"minecraft:knockback_resistance":{"value":1},"minecraft:follow_range":{"value":55,"max":55},"minecraft:experience_reward":{"on_death":"45"},"minecraft:loot":{"table":"loot_tables/paon.json"}},"events":{"minecraft:entity_spawned":{"trigger":"hfrlc:adult"},"hfrlc:adult":{"add":{"component_groups":["hfrlc:adult","hfrlc:spawn_babies","hfrlc:no_player_nearby","hfrlc:vulnerable"]},"trigger":"hfrlc:choose_attack","set_property":{"hfrlc:is_baby":false}},"hfrlc:baby":{"add":{"component_groups":["hfrlc:baby","hfrlc:vulnerable","hfrlc:movement_on_baby"]},"set_property":{"hfrlc:is_baby":true}},"hfrlc:no_player_nearby":{"remove":{"component_groups":["hfrlc:player_nearby"]},"add":{"component_groups":["hfrlc:no_player_nearby"]}},"hfrlc:player_nearby":{"remove":{"component_groups":["hfrlc:no_player_nearby"]},"add":{"component_groups":["hfrlc:player_nearby"]}},"hfrlc:baby_start_running":{"remove":{"component_groups":["hfrlc:movement_on_baby"]},"add":{"component_groups":["hfrlc:movement_on_with_target_baby"]},"set_property":{"hfrlc:running_away":true}},"hfrlc:baby_stop_running":{"sequence":[{"filters":{"test":"bool_property","domain":"hfrlc:dead","value":false},"remove":{"component_groups":["hfrlc:movement_on_with_target_baby"]},"add":{"component_groups":["hfrlc:movement_on_baby"]},"set_property":{"hfrlc:running_away":false}}]},"hfrlc:movement_off":{"remove":{"component_groups":["hfrlc:movement_on_baby","hfrlc:movement_on_with_target_baby","hfrlc:movement_on","hfrlc:movement_on_with_target"]},"add":{"component_groups":["hfrlc:movement_off"]}},"hfrlc:movement_on":{"sequence":[{"filters":{"test":"bool_property","domain":"hfrlc:dead","value":false},"remove":{"component_groups":["hfrlc:movement_off","hfrlc:movement_on_baby","hfrlc:movement_on_with_target_baby","hfrlc:movement_on","hfrlc:movement_on_with_target"]}},{"add":{"component_groups":["hfrlc:movement_on_baby"]},"filters":{"all_of":[{"test":"bool_property","domain":"hfrlc:dead","value":false},{"test":"bool_property","domain":"hfrlc:running_away","value":false},{"test":"bool_property","domain":"hfrlc:is_baby","value":true}]}},{"add":{"component_groups":["hfrlc:movement_on_with_target_baby"]},"filters":{"all_of":[{"test":"bool_property","domain":"hfrlc:dead","value":false},{"test":"bool_property","domain":"hfrlc:running_away","value":true},{"test":"bool_property","domain":"hfrlc:is_baby","value":true}]}},{"add":{"component_groups":["hfrlc:movement_on"]},"filters":{"all_of":[{"test":"bool_property","domain":"hfrlc:dead","value":false},{"test":"bool_property","domain":"hfrlc:is_baby","value":false},{"test":"has_target","value":false}]}},{"add":{"component_groups":["hfrlc:movement_on_with_target"]},"filters":{"all_of":[{"test":"bool_property","domain":"hfrlc:dead","value":false},{"test":"bool_property","domain":"hfrlc:is_baby","value":false},{"test":"has_target","value":true}]}}]},"hfrlc:invulnerable":{"remove":{"component_groups":["hfrlc:vulnerable"]},"add":{"component_groups":["hfrlc:invulnerable"]}},"hfrlc:vulnerable":{"remove":{"component_groups":["hfrlc:invulnerable"]},"add":{"component_groups":["hfrlc:vulnerable"]}},"hfrlc:choose_attack":{"randomize":[{"remove":{"component_groups":["hfrlc:peck_attack","hfrlc:fly_attack"]},"trigger":"hfrlc:movement_on","add":{"component_groups":["hfrlc:peck_attack"]},"set_property":{"hfrlc:attack_type":"peck_attack"},"filters":{"test":"bool_property","domain":"hfrlc:is_baby","value":false},"weight":8},{"remove":{"component_groups":["hfrlc:peck_attack","hfrlc:fly_attack"]},"add":{"component_groups":["hfrlc:fly_attack"]},"set_property":{"hfrlc:attack_type":"fly_attack"},"trigger":"hfrlc:movement_on","filters":{"test":"bool_property","domain":"hfrlc:is_baby","value":false},"weight":2}]},"hfrlc:prepare_attack":{"set_property":{"hfrlc:state":"preparing_attack"},"filters":{"test":"enum_property","domain":"hfrlc:state","value":"none"}},"hfrlc:attack_start":{"set_property":{"hfrlc:state":"attacking"},"filters":{"test":"enum_property","domain":"hfrlc:state","value":"preparing_attack"}},"hfrlc:attack_end":{"set_property":{"hfrlc:state":"none","hfrlc:rotation_locked":false},"trigger":"hfrlc:choose_attack"},"hfrlc:has_target":{"set_property":{"hfrlc:has_target":true}},"hfrlc:no_target":{"remove":{"component_groups":["hfrlc:find_target"]},"set_property":{"hfrlc:has_target":false}},"hfrlc:get_target":{"add":{"component_groups":["hfrlc:find_target"]}},"hfrlc:target_detected":{"remove":{"component_groups":["hfrlc:find_target"]},"queue_command":{"command":"scriptevent hfrlc:get_target","target":"target"}},"hfrlc:death":{"trigger":"hfrlc:movement_off","sequence":[{"filters":{"all_of":[{"test":"bool_property","domain":"hfrlc:dropped_xp","subject":"self","value":false},{"test":"bool_property","domain":"hfrlc:is_baby","subject":"self","value":false}]},"queue_command":{"command":["function xp_dropper_mid"]}},{"filters":{"all_of":[{"test":"bool_property","domain":"hfrlc:dropped_xp","subject":"self","value":false},{"test":"bool_property","domain":"hfrlc:is_baby","subject":"self","value":true}]},"queue_command":{"command":["function xp_dropper_low"]}},{"set_property":{"hfrlc:dead":true,"hfrlc:dropped_xp":true},"remove":{"component_groups":["hfrlc:vulnerable","hfrlc:player_nearby"]},"add":{"component_groups":["hfrlc:death","hfrlc:no_player_nearby","hfrlc:invulnerable"]}}]},"hfrlc:despawn":{"add":{"component_groups":["hfrlc:despawn"]}}}}}